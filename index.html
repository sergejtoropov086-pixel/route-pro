<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RoutePro ‚Äî –£–º–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    body { background: #0f0f0f; color: #f5f5f5; padding: 20px; max-width: 1200px; margin: 0 auto; }
    header { text-align: center; margin-bottom: 30px; }
    h1 { font-size: 2.2rem; margin: 20px 0; background: linear-gradient(90deg, #3b82f6, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .form { background: #1a1a1a; padding: 25px; border-radius: 16px; margin-bottom: 20px; }
    .input-group { margin-bottom: 16px; }
    label { display: block; margin-bottom: 6px; color: #aaa; font-size: 0.95rem; }
    input { 
      width: 100%; 
      padding: 14px; 
      border-radius: 10px; 
      border: 1px solid #333; 
      background: #252525; 
      color: white; 
      font-size: 1rem; 
    }
    input:focus { outline: 2px solid #3b82f6; }
    button { 
      width: 100%; 
      padding: 14px; 
      background: linear-gradient(90deg, #3b82f6, #2563eb); 
      color: white; 
      border: none; 
      border-radius: 10px; 
      font-size: 1.1rem; 
      font-weight: 600; 
      cursor: pointer; 
      transition: opacity 0.2s; 
    }
    button:hover { opacity: 0.9; }
    #map { height: 600px; border-radius: 16px; display: none; }
    .back-btn { 
      display: none; 
      padding: 12px; 
      background: #1a1a1a; 
      color: #3b82f6; 
      border: 1px solid #333; 
      border-radius: 10px; 
      margin-top: 15px; 
      cursor: pointer; 
      text-align: center; 
      font-weight: 500; 
    }
    .back-btn:hover { background: #252525; }
  </style>
</head>
<body>
  <header>
    <h1>üöÄ RoutePro</h1>
    <p>–ü–æ—Å—Ç—Ä–æ–π—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –∑–∞ 10 —Å–µ–∫—É–Ω–¥</p>
  </header>

  <div class="form" id="form">
    <div class="input-group">
      <label for="from">üìç –û—Ç–∫—É–¥–∞</label>
      <input type="text" id="from" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–æ—Å–∫–≤–∞, –¢–≤–µ—Ä—Å–∫–∞—è —É–ª–∏—Ü–∞" autocomplete="off" />
    </div>
    <div class="input-group">
      <label for="to">üéØ –ö—É–¥–∞</label>
      <input type="text" id="to" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç" autocomplete="off" />
    </div>
    <button onclick="buildRoute()">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç ‚Üí</button>
  </div>

  <div class="back-btn" id="backBtn" onclick="backToForm()">‚Üê –ù–∞–∑–∞–¥ –∫ —Ñ–æ—Ä–º–µ</div>
  
  <div id="map"></div>

  <!-- Yandex Maps API -->
  <script src="https://api-maps.yandex.ru/2.1/?apikey=2234f14e-a26e-42e7-b494-e6f8c0f9bc3b&lang=ru_RU" type="text/javascript"></script>
  <script>
    let myMap;

    function buildRoute() {
      const from = document.getElementById('from').value.trim();
      const to = document.getElementById('to').value.trim();
      
      if (!from || !to) {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±–∞ –ø–æ–ª—è.');
        return;
      }

      document.getElementById('form').style.display = 'none';
      document.getElementById('backBtn').style.display = 'block';
      document.getElementById('map').style.display = 'block';

      if (!myMap) {
        myMap = new ymaps.Map('map', {
          center: [37.6155, 55.7522], // –ú–æ—Å–∫–≤–∞
          zoom: 10,
          controls: ['zoomControl', 'fullscreenControl']
        });
      }

      ymaps.route([from, to]).then(
        function (route) {
          // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –º–∞—Ä—à—Ä—É—Ç
          myMap.geoObjects.removeAll();
          
          // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∏–ª—è
          route.getPaths().options.set({
            strokeColor: "#007AFF",
            strokeWidth: 6,
            strokeOpacity: 0.8
          });

          myMap.geoObjects.add(route);
          myMap.setBounds(route.getBounds(), { checkZoomRange: true });
        },
        function (error) {
          alert('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–æ–≤.');
          console.error('–û—à–∏–±–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏:', error);
        }
      );
    }

    function backToForm() {
      document.getElementById('form').style.display = 'block';
      document.getElementById('backBtn').style.display = 'none';
      document.getElementById('map').style.display = 'none';
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ API
    ymaps.ready(function () {
      // –ì–æ—Ç–æ–≤–æ ‚Äî –∫–∞—Ä—Ç–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ buildRoute()
    });
  </script>
</body>
</html>
